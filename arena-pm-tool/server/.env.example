# ===========================================
# TODORIO SERVER - CONFIGURATION
# ===========================================
# Copy this file to .env and update the values
# NEVER commit .env files with real credentials

# Server Configuration
PORT=5001
NODE_ENV=development

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://user:password@localhost:5432/todorio

# Individual DB variables (for backup scripts)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=todorio
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_SSL=false

# Supabase Configuration (optional - for Supabase integration)
# Get these values from your Supabase project: Settings > API
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
# Service role key is used for admin operations that bypass RLS
# IMPORTANT: Never expose this key to the client/browser
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# JWT Configuration
JWT_SECRET=your_strong_random_secret_key_here
JWT_EXPIRES_IN=7d

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Email Configuration (Resend)
RESEND_API_KEY=re_your_api_key_here
EMAIL_FROM=noreply@example.com
EMAIL_FROM_NAME=Todoria

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# Security
TRUST_PROXY=false

# Vercel Cron Secret (required for Vercel deployment)
# Generate a random string and set the same value in Vercel dashboard
CRON_SECRET=your_cron_secret_here

# Holiday API (Abstract API)
ABSTRACT_API_KEY=your_abstract_api_key_here

# Error Tracking (Sentry)
# Get your DSN from: https://sentry.io → Project Settings → Client Keys (DSN)
SENTRY_DSN=https://your-public-key@o0.ingest.sentry.io/0
# Release version is set automatically by CI/CD (git SHA)
# SENTRY_RELEASE=

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret
STRIPE_PRO_PRICE_ID=price_your_pro_price_id

# Client URL (for links in emails and redirects)
CLIENT_URL=http://localhost:3000

# ===========================================
# VERCEL DEPLOYMENT NOTES
# ===========================================
# Required environment variables for Vercel:
# - DATABASE_URL (or SUPABASE_URL + keys)
# - JWT_SECRET
# - ALLOWED_ORIGINS (your Vercel client URL, e.g., https://todoria.com)
# - CLIENT_URL (e.g., https://todoria.com)
# - CRON_SECRET (for secure cron job triggers)
# - STRIPE_SECRET_KEY, STRIPE_WEBHOOK_SECRET, STRIPE_PRO_PRICE_ID
# - RESEND_API_KEY
# - SENTRY_DSN
# - NODE_ENV=production (set automatically by Vercel)
#
# CI/CD Sentry source map upload (GitHub Actions secrets, not Vercel):
# - SENTRY_AUTH_TOKEN (from sentry.io → Settings → Auth Tokens)
# - SENTRY_ORG (your Sentry organization slug)
# - SENTRY_PROJECT (your Sentry project slug)
#
# The VERCEL env var is auto-set by Vercel - no need to configure
